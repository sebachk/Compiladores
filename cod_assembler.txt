.386 
.model flat, stdcall 
option casemap :none
include \masm32\include\windows.inc 
include \masm32\include\kernel32.inc 
include \masm32\include\user32.inc 
includelib \masm32\lib\kernel32.lib 
includelib \masm32\lib\user32.lib
.data
_a_Programa DW ?
_a_Programa_promedio_2 DW ?
_b_Programa_promedio_2 DW ?
_g_Programa_promedio_2 DW ?
cadena1 DW "'esta es una funcino sin parametros'"
_a_Programa_Main DW ?
_b_Programa_Main DW ?
_c_Programa_Main DW ?
_d_Programa_Main DW ?
cadena2 DW "'cadena1'"
.code
start:
Func_promedio_2:
pop _a_Programa_promedio_2
pop _b_Programa_promedio_2
MOV ecx, _a_Programa_promedio_2
MOV bx, [ecx]
MOV ecx, _b_Programa_promedio_2
ADD bx, [ecx]
MOV ecx, _a_Programa_promedio_2
SUB bx, [ecx]
MOV _g_Programa_promedio_2, bx
MOV ecx, _a_Programa_promedio_2
MOV bx, [ecx]
ADD bx, 3
MOV ecx, _b_Programa_promedio_2
MOV [ecx], bx
MOV bx, _g_Programa_promedio_2
ADD bx, 3
MOV ecx, _a_Programa_promedio_2
MOV ax, [ecx]
MOV cx 5
MUL cx
jo overflow
DIV ax, 2
SUB bx, ax
MOV ecx, _b_Programa_promedio_2
MOV [ecx], bx
MOV ax, _g_Programa_promedio_2
RET
RET
Func_promedio_0:
invoke StdOut, addr [_cadena1]
RET
MOV bx, 8
MOV _a_Programa_Main, bx
MOV bx, _d_Programa_Main
CMP _b_Programa_Main, bx
JB Label48
MOV bx, 9
MOV _a_Programa_Main, bx
JMP Label52
Label48:
MOV bx, 10
MOV _a_Programa_Main, bx
Label52:
invoke StdOut, addr [_cadena2]
Label55:
MOV bx, _b_Programa_Main
ADD bx, 1
MOV _b_Programa_Main, bx
MOV bx, _b_Programa_Main
CMP 30, bx
JE Label68
JMP Label55
Label68:
MOV ax, _a_Programa_Main
MUL _b_Programa_Main
jo overflow
CMP 230, ax
JE Label100
Label76:
MOV bx, _c_Programa_Main
SUB bx, 2
MOV _a_Programa_Main, bx
MOV ax, _b_Programa_Main
MOV bx 4
MUL bx
jo overflow
MOV _c_Programa_Main, ax
MOV bx, _b_Programa_Main
ADD bx, 1
MOV _b_Programa_Main, bx
MOV bx, _a_Programa_Main
CMP 400, bx
JNBE Label99
JMP Label76
Label99:
Label100:
push [_a_Programa_Main] 
push [_b_Programa_Main] 
CALL Func_#PARAM
invoke ExitProcess, 0
end start